<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>甄优爬虫</title>
		<link rel="stylesheet" type="text/css" href="../static/css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="../static/css/swiper-3.4.2.min.css"/>
		<link rel="stylesheet" type="text/css" href="../static/css/animate.min.css"/>
    <style type="text/css">
			html,
			body {
			  width: 100%;
			  font-size: .16rem;
			  color: #333333;
			}
			html {
			  font-size: 100px;
			}    	
       header{
        width:100%;
        height:.8rem;
        background: #dfdfdf;
      }
      .main{
      	width: 12rem;
      	height: 10rem;
      	margin: 0 auto;
      }   	
	.collect-info{
		width: 100%;
		height: 2.34rem;
	}
	.title{
		height: .44rem;
		text-align: center;
		line-height: .44rem;
	}
	.grab{
		width: 10rem;
		height: .5rem;
		margin: 0 auto;
		display: flex;
		border: 1px solid #ebebeb;
	}
	.grab a{
		display: block;
		flex: 1;
		height: .5rem;
		text-align: center;
		line-height: .5rem;
	}
	.grab .active{
		color: black;
	}
	.goodsLink{
		width: 8rem;
		height: .4rem;
		margin: .2rem auto;
	}
	.goodsLink input{
		width: 8rem;
		height: .4rem;	
		border: 1px solid #ebebeb;
		border-radius: .08rem;
		text-indent: 10px;
	}
	.collect-btn{
		width: 8rem;
		height: .3rem;
		margin: 0 auto;
		display: flex;
	}
	.collect-btn-any{
		width: 8rem;
		height: .8rem;
		line-height: .8rem;
		margin: 0 auto;
		display: flex;		
	}
	.collect-btn a,.collect-btn-any a{
		display: block;
		flex: 1;
		text-align: center;
	}
	.collect-content{
		width: 100%;
		float: left;
	}
	.goodsName{
    width: 100%;
    font-size: 16px;
    font-weight: 700;
    line-height: 21px;
    color: #3C3C3C;
	}
	.subGoodsName{
		color: #6C6C6C;
    margin: .05rem;
	}
	.collect-main{
		width: 100%;
		/*height: 5rem;*/
	}
	.collect-main-left{
		width: 4rem;
		/*height: 5rem;*/
		float: left;
	}
	.bigGoods{
		width: 4rem;
		height: 4rem;
		margin-bottom: .15rem;
		background: #efaf85;
	}
	.bigGoods img{
		width: 100%;
		height: 100%;
	}	
	.smallGoodsList{
		width: 4rem;
		height: .6rem;
		position: relative;		
    overflow: hidden;			
	}
	.smallGoodsList ul{
		width: 4rem;
		height: .6rem;
	}
	.smallGoodsList ul li{
		width: .6rem !important;
		height: .6rem;
		margin-right: .24rem;
		cursor: pointer;
	}
	.smallGoodsList ul li:last-child{
		margin: 0;
	}
	.smallGoodsList ul li img{
		width: 100%;
		height: 100%;
	}	
	.btn-left{
		display: block;
		width: .24rem;
		height: .6rem;
		position: absolute;
		left: 0;
		top: 0;
		background: url(../static/images/btn-l.png)no-repeat center;
		background-size: 100% auto;
		background-color: #ffffff;
		z-index: 20;
	}
	.btn-right{
		display: block;
		width: .24rem;
		height: .6rem;		
		position: absolute; 
		right: 0;
		top: 0;
		background: url(../static/images/btn-r.png)no-repeat center;
		background-size: 100% auto;
		background-color: #ffffff;
		z-index: 20;			
	}
	.seller-info{
		padding-top: .2rem;
	}
	.seller-info input{
		width: 1.1rem;
		height: .3rem;
		border: 1px solid #CCCCCC;
	}
	.collect-main-right{
		float: left;
		width: 7.48rem;
		/*height: 5rem;*/
		margin-left: .2rem;		
	}
	.goods-info{
		width: 100%;
		height: 1.5rem;
		background: #ebcebb;
		border-top: 2px solid #e72d44;
	}
	.price,.number{
		text-align: center;
		height: .75rem;
		line-height: .75rem;
	}
	.price ul,.number ul{	
		display: flex;
	}
	.price ul li,.number ul li{
		color: #e72d44;
		font-size: .3rem;	
		flex: 1;	
	}
	.price ul li:first-child,.number ul li{
		color: #333333;
		font-size: .16rem;
	}
	.goodsColor{
		width: 100%;
		height: .6rem;
		border-bottom: 1px solid #CCCCCC;
	}
	.goodsColor-left,.goodsSize-left{
		width: 1rem;
		text-align: center;
		line-height: .6rem;
		float: left;
	}
	.goodsColor-right{
		width: 6.48rem;
		height: .6rem;
		float: left;
	}
	.goodsColor-right ul li{
		width: .3rem;
		height: .3rem;
		line-height: .3rem;
		margin: .15rem .3rem;
		float: left;
		white-space: nowrap;
	}
	.goodsColor-right ul li img{
		width: 100%;
		height: 100%;
	}
	.goodsColor-right ul .active{
		border: 1px solid #e72d44;
	}
	.goodsColorImg{
		width: .4rem;
    height: .4rem;
    margin: 0 auto;
    display: block;	
	}
	.goodsSize{
		width: 7.48rem;
		height: 1.24rem;
	}
	.goodsSize-right{
		/*width: 6.48rem;*/
		/*height: 1.24rem;*/
		float: left;
		position: relative;
	}
	.goodsSize-right>ul{
		width: 6.48rem;
		height: 1.24rem;	
		overflow: hidden;	
	}
	.goodsSize-right>ul li{
		width: 6.48rem;
		height: .4rem;	
		border-bottom: 1px solid #CCCCCC;	
	}
	.goodsSize-right>ul li ul{
		width: 6.48rem;
		height: .4rem;		
		display: flex;
	}	
	.goodsSize-right>ul li ul li{
		flex: 1;
		line-height: .4rem;
    white-space: nowrap;
    overflow: hidden;
    margin-right: .3rem;		
	}	
	.wLink{
		width: 100%;
		height: 100%;
		text-align: center;
		color: red;
	}
	.nLink{
		width: 100%;
		height: .6rem;
		text-align: center;
		color: red;
	}
	.anyGrab{
		display: none;
	}
	.mask{
		display: none;
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: rgba(0,0,0,.4);
	}
	.mask img{
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		margin: auto;
		/*width: 100px;
		height: 100px;		*/
	}
	.batchGrab{
		width: 100%;
    margin: 0 auto;
    display: none;
	}
	.batchGrabLink{
		width: 9.08rem;
		height: 1rem;
		margin: 0 auto;
	}
	.batchGrabBtn{
		width: 10rem;
		height: .4rem;
		text-align: right;
		margin: 0 auto;
	}
	.batchGrabBtn a{
		display: inline-block;
		width: .9rem;
		height: .3rem;
		text-align: center;
		background: #6c89f5;
		color: #ffffff;
    line-height: .3rem;
    margin: .05rem 1rem;	
    vertical-align: top;	
	}
	.batchGrabBtn input{
		height: .2rem;
    width: .2rem;
    vertical-align: top;
    margin-top: .1rem;
	}
	.batchGrabBtn label{
		display: inline-block;
    vertical-align: top;
    margin-top: .1rem;		
	}
	.batchGoodsLink{
		width: 100%;
		height: .4rem;
		margin: 0 auto;
		position: relative;
	}
	.batchGoodsLinkContent{
		width: 8rem;
		height: .4rem;
	}
	.batchGoodsLinkContent input{
		width: 8rem;
		height: .36rem;	
		border: 1px solid #ebebeb;
		border-radius: .08rem;
		text-indent: 10px;
	}	
	.add{
		vertical-align: bottom;
		margin-right: .2rem;
		cursor: pointer;	
    position: absolute;
    left: 0;			
	}
	.batchGoodsLinkContent{
		display: inline-block;
		vertical-align: bottom;
		margin-right: .2rem;
		cursor: pointer;
		margin-left: 1rem;
	}
	.singleSelect{
		width: .3rem;
		height: .3rem;
		display: inline-block;
		margin: .05rem;
		margin-left: .8rem;
	}
	.singleSelect input{
		width: .3rem;
		height: .3rem;
	}
	.addLinkList{
		display: none;
		margin-bottom: .2rem;
	}
	.addLink .active{
		display: block;
	}
	.maxLink{
		display: none;
		width: 100%;
		height: .4rem;
		color: red;
		text-align: center;
		line-height: .4rem;
	}
	.showGoods{
		/*float: left;*/
	  margin: .2rem 0;
	  position: relative;
	}
	.showGoodsLoading{
		display: none;
		margin-left: 4rem;
	}
	.wGoodsLink{
		width: 100%;
		height: 100%;
		text-align: center;
		color: red;		
	}
	.goodsDetail{
		width: 100%;
		float: left;
		margin-top: .3rem;
	}
	.seller-message{
		width: 1.9rem;
		float: left;
		border: 1px solid #E5E5E5;
		margin-right: .16rem;
		margin-bottom: .2rem;
	}
	.goodsDetail-message{
		float: left;
	}
	.seller-company{
		padding: .14rem .13rem;
    background: #F5F5F5;	
    max-width: 165px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;	
    border-bottom: 1px solid #E5E5E5;
    color: black;
	}
	.seller-personal-url{
		max-width: 165px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;	
	}
	.seller-name,.seller-personal-url{
		width: 100%;
		/*height: .4rem;*/
		line-height: .4rem;
	}
	.goodsDetail-message{
		width: 9.6rem;
	}
	.goodsDetail-message-title{
		width: 100%;
		height: .4rem;
		line-height: .4rem;
		text-indent: .2rem;
		color: #FF7300;
		border: 1px solid #E5E5E5;
	}
	.de-feature{
		width: 8%;
    padding: 14px 14px 0;
    color: #999;
    white-space: nowrap;
    text-overflow: ellipsis;
	}
	.de-value{
		width: 15%;
    padding: 10px 10px 0 0;
    /*white-space: nowrap;*/
    text-overflow: ellipsis;
	}
	.goodsDetail-messageList{
		position: relative;
	}
	.obj-content{
		height: 1.23rem;
    overflow: hidden;
    /*position: relative;*/
    border-bottom: 1px solid #E5E5E5;
	}
	.obj-expand{
    width: .46rem;
    height: .2rem;
    position: absolute;
    right: 1rem;
    top: 1.23rem;
    border: 1px solid #e5e5e5;
    border-radius: 0 0 2px 2px;
    cursor: pointer;
    border-top: none;
	}
	.obj-expand:hover {
		border-color: #FF7300;
	}
	.obj-expand span{
		display:block;
    width:0;
    height:0;
    border-width:.1rem .1rem 0;
    border-style:solid;
    border-color:#888 transparent transparent;
    position: absolute;
    top:0px;
    left:.13rem;
	}
	.obj-expand1{
    width: .46rem;
    height: .2rem;
    position: absolute;
    right: 1rem;
    top: 1.23rem;
    border: 1px solid #e5e5e5;
    border-radius: 0 0 2px 2px;
    cursor: pointer;
    border-top: none;
	}
	.obj-expand1:hover {
		border-color: #FF7300;
	}
	.obj-expand1 span{
		display:block;
    width:0;
    height:0;
    border-width:.1rem .1rem 0;
    border-style:solid;
    border-color:#888 transparent transparent;
    position: absolute;
    top:0px;
    left:.13rem;
	}
	.again-loading{
		position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: auto;
	}
	.goodsColor-right .taob-type{
		width: 7.48rem;
		height: .6rem;
		display: flex;
	}
	.goodsColor-right .taob-type>li{
		flex: 1;
		text-align: center;
	}
	.goodsSize-right .taob-type-list{
		width: 7.48rem;
	}
	.goodsSize-right .taob-type-list>li{
		width:7.48rem;
	}
	.goodsSize-right .taob-type-list>li ul{
		width: 7.48rem;
	}
	.goodsSize-right .taob-type-list>li ul li{
		margin-right: 0;
		text-align: center;
	}
	.goods-Details{
		margin-top: 8rem;
		/*text-align: center;*/
		width:9.6rem;
		margin-left:1.9rem;
	}
	.grabLoading{
		display: none;
		position: fixed;
		left: 0;
		top: 0;
		right: 0;
		bottom: 0;
		background: rgba(0,0,0,.5);
	}
	.grabLoading-box{
		height: .06rem;
    width: 6rem;
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -3px;
    margin-left: -300px;
		background-image: -webkit-linear-gradient(left, #5bd8ff, #ff0000);
	}
	.grabLoading-box.done:after {
    background: red;
	}
	.grabLoading-box:after{
		content: "";
    display: block;
    position: absolute;
    right: 0;
    top: 50%;
    width: 1em;
    height: 1em;
    border-radius: 50%;
    margin-top: -0.5em;
    margin-right: -1em;
 	  background-image: -webkit-linear-gradient(top, #000000, #212121);
    background-image: -moz-linear-gradient(top, #000000, #212121);
    background-image: -o-linear-gradient(top, #000000, #212121);
    background-image: -ms-linear-gradient(top, #000000, #212121);
    background-image: linear-gradient(top, #000000, #212121);  
	}
	.grabLoading-list{
		display: block;
		width: 100%;
		height: 100%;
		background: black;
		float: right;
	}
	.meter {
  position: absolute;
  top: 0;
  right: 0;
  font-size: 2em;
  margin-top: .3em;
  color: #ff0000;
  animation: meter 10s linear;
  text-shadow: 0 -1px 0 #333333;
}
.meter:after {
  content: "%";
}
.layer {
	width:100%;
	height: 100%;
	background: rgba(0,0,0,.7);
	position: fixed;
	left:0;
	top:0;
	right:0;
	bottom: 0;
	z-index: 100000;
	display: none;
}
.layer img{
	width:190px;
	height: 14px;
	position: absolute;
	left: 50%;
	top:50%;
	margin-top: -7px;
	margin-left: -95px;
}
.layer-content{
	width:400px;
	height: 300px;
	background-color: white;
	font-size: 14px;
	padding:20px;
	position: absolute;
	left: 50%;
	top:50%;
	margin-top: -200px;
	margin-left: -150px;
	
}
.layer-content div{
	color:black;
	white-space: normal;
	word-break:break-all;
	height: 250px;
	overflow: scroll;
}
.layer-content button{
	width:80px;
	height: 40px;
	background-color:#007AFF;
	color:#fff;
	font-size: 18px;
	line-height: 40px;
	text-align: center;
	display: block;
	position: absolute;
	bottom: 10px;
	left:50%;
	margin-left: -40px;
}
    </style>
  </head>
  <body>
    <header style="height: 15px;"></header>
    <div class="main">
			<div class="collect-info">
				<div class="title">唯品会商品采集</div>
				<div class="grab"><a class="active" href="javascript:" id="singleGrab">单个抓取</a><a href="javascript:" id="batchGrab">批量抓取</a><a href="javascript:;" id="anyGrab">一顿乱输</a></div>
				<div class="goodsLink fadeInLeft animated">
					<input type="" name="" id="goodsLink" value="" placeholder="商品详情链接"/>
					<div class="wLink"></div>
					<div class="collect-btn"><a href="javascript:" id="reset">重置</a><a href="javascript:" id="grab">抓取数据</a><a href="javascript:;" id="insertSqlSingle">存入数据库</a></div>					
				</div>
				<div class="batchGrab fadeInLeft animated">
					<div class="batchGrabBtn"><a href="javascript:" id="batchGrabStart">开始抓取</a><a href="javascript:" id="insertSql">存入数据库</a><a href="javascript:;" id="resetAllLink">清空输入框</a><input type="checkbox" name="allSelect" id="allSelect" value=""/><label for="allSelect">全部选中</label></div>
					<div class="batchGoodsLink">
						<div class="add"><img src="../static/images/add.png"/></div>
						<ul class="addLink" id="addLink">
							<li class="addLinkList active">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox"  name="singleSelect" class="singleSelectBtn" value=""/><label for="singleSelect"></label>
								</div>	
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>
							</li>
							<li class="addLinkList active">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect"  class="singleSelectBtn" value=""/><label for="singleSelect"></label>
								</div>		
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList active">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"  value=""/><label for="singleSelect"></label>
								</div>			
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList ">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"   value=""/><label for="singleSelect"></label>
								</div>			
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"   value=""/><label for="singleSelect"></label>
								</div>		
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList ">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox"  name="singleSelect" class="singleSelectBtn" value=""/><label for="singleSelect"></label>
								</div>	
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>
							</li>
							<li class="addLinkList ">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect"  class="singleSelectBtn" value=""/><label for="singleSelect"></label>
								</div>		
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"  value=""/><label for="singleSelect"></label>
								</div>			
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"   value=""/><label for="singleSelect"></label>
								</div>			
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"   value=""/><label for="singleSelect"></label>
								</div>		
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList ">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox"  name="singleSelect" class="singleSelectBtn" value=""/><label for="singleSelect"></label>
								</div>	
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>
							</li>
							<li class="addLinkList ">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect"  class="singleSelectBtn" value=""/><label for="singleSelect"></label>
								</div>		
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"  value=""/><label for="singleSelect"></label>
								</div>			
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"   value=""/><label for="singleSelect"></label>
								</div>			
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"   value=""/><label for="singleSelect"></label>
								</div>		
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>		
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox"  name="singleSelect" class="singleSelectBtn" value=""/><label for="singleSelect"></label>
								</div>	
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>
							</li>
							<li class="addLinkList ">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect"  class="singleSelectBtn" value=""/><label for="singleSelect"></label>
								</div>		
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"  value=""/><label for="singleSelect"></label>
								</div>			
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"   value=""/><label for="singleSelect"></label>
								</div>			
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>
							<li class="addLinkList">
								<div class="batchGoodsLinkContent">
									<input type="" name="" class="linkContent" value="" placeholder="商品详情链接"/>
									<div class="wGoodsLink"></div>
								</div>
								<div class="singleSelect">
									<input type="checkbox" name="singleSelect" class="singleSelectBtn"   value=""/><label for="singleSelect"></label>
								</div>		
								<div class="showGoods">
									<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>				
								</div>								
							</li>							
						</ul>
						<div class="maxLink">已达到最大搜索量</div>
					</div>
				</div>
				<div class="anyGrab fadeInLeft animated">
					<div class="collect-btn-any"><a href="javascript:" id="anyGrabStart">抓取数据</a><a href="javascript:;" id="insertSqlAny">存入数据库</a></div>					
					<div class="nLink"></div>
					<textarea class="anyGrabContent" style="margin: 0 auto; display: block;" name="" rows="15" cols="100" placeholder="每个链接以分号';'结尾&#xA如下:&#xAhttps://m.vip.com/product-0-432603261.html;&#xAhttps://m.vip.com/product-0-428846396.html;&#xAhttps://m.vip.com/product-0-428846396.html;&#xAhttps://m.vip.com/preheating-product-2194197-430099727.html;"></textarea>
					<div class="grabLoading">
						<div class="grabLoading-box">
							<div class="meter">0</div>
							<span class="grabLoading-list"></span>
						</div>
					</div>
				</div>
			</div>
			<div class="collect-content">
				<!--<div class="collect-main">
					<div class="collect-main-left">
						 <div class="bigGoods"></div>
						 <div class="smallGoodsList">
						 	<ul>
						 		<li><a href=""></a></li>
						 		<li><a href=""></a></li>
						 		<li><a href=""></a></li>
						 		<li><a href=""></a></li>
						 		<li><a href=""></a></li>
						 	</ul>
						 	<a href="" class="btn-left"></a>
						 	<a href="" class="btn-right"></a>
						 </div>
						 <div class="seller-info">
						 	商铺名称  <input type="text" name="" id="" value=""/>
						 	旺旺账号  <input type="text" name="" id="" value=""/>
						 </div>
					</div>
					<div class="collect-main-right">
						<div class="goodsName">5663实拍2017羽绒服女网红店主风面包服短款休闲夹克棉服衣女外套</div>
						
						<div class="goods-info">
							<div class="price">
								<ul>
									<li>最低价</li>
									<li>¥ 119.00</li>
								</ul>
								<ul>
									<li>最高价</li>
									<li>¥ 119.00</li>
								</ul>								
							</div>
						</div>
						<div class="goodsColor">
							<div class="goodsColor-right">
								<ul class="taob-type">
									<li class="">内存容量</li>
									<li class="">颜色分类</li>
									<li class="">套餐</li>
									<li>版本类型</li>
								</ul>							
							</div>
						</div>
						<div class="goodsSize">
							<div class="goodsSize-right">
								<ul class="taob-type-list">
									<li>
										<ul>
											<li>32GB</li>
											<li>【黑色主机】【灰 /  灰 手柄】</li>
											<li>单机标配</li>
											<li>欧版</li>
										</ul>
									</li>
									<li>
										<ul>
											<li>32GB</li>
											<li>【黑色主机】【红 /  蓝 手柄】</li>
											<li>套餐一</li>
											<li>欧版</li>
										</ul>									
									</li>
									<li>
										<ul>
											<li>32GB</li>
											<li>黑色【灰/灰 柄】+ 塞尔达传说</li>
											<li>套餐二</li>
											<li>港版</li>
										</ul>									
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="goodsDetail">
					<div class="seller-message">
						<div class="seller-company">深圳市福田区水月镜花服装</div>
						<div class="seller-name">
							联系卖家：<span>徐惠湘</span>
						</div>
						<div class="seller-personal-url">
							卖家私人主页：<br /><a href="https://me.1688.com/*xC-i2FIyvmIyvmHLvFvT.html" target="_blank">https://me.1688.com/*xC-i2FIyvmIyvmHLvFvT.html</a>
						</div>
					</div>
					<div class="goodsDetail-message">
						<div class="goodsDetail-message-title">详细信息</div>
						<div class="goodsDetail-messageList">
							<div class="obj-content">
						    <table>
						        <tbody>
						        	<tr>
						        		<td class="de-feature">货源类别</td>
						        		<td class="de-value">现货</td>
						        		<td class="de-feature">产地</td>
						        		<td class="de-value">其他</td>
						    				<td class="de-feature">品牌</td>
						    				<td class="de-value">其他</td>
						    			</tr>
						    			<tr>
						    			 	<td class="de-feature">货号</td>
						    				<td class="de-value">5663#</td>
						    				<td class="de-feature">填充物</td>
						    				<td class="de-value">其他</td>
						    				<td class="de-feature">衣长</td>
						    				<td class="de-value">短款(40cm＜衣长≤50cm)</td>
						    			</tr> 	    			    			  
						    			<tr>
						    				<td class="de-feature">风格</td>
						    				<td class="de-value">OL通勤/正装</td>
						    				<td class="de-feature">袖长</td>
						    				<td class="de-value">长袖</td>
						    				<td class="de-feature">主图来源</td>
						    				<td class="de-value">其他来源</td>
						    			</tr>
						    			<tr>  	    			
						    				<td class="de-feature">颜色</td>
						    				<td class="de-value">白色,卡其色,黑色</td>
						    				<td class="de-feature">尺码</td>
						    				<td class="de-value">L,XL,2XL</td>
						    				<td class="de-feature"></td>
						    			</tr>
						    		</tbody>
						    </table>
							</div>
						</div>
					</div>
				</div>-->
			</div>
			<div class="mask"><img  src="../static/images/5-121204193Q9.gif"/></div>
    </div>
    <div class="layer">
			<img src="../static/images/5-121204193Q9.gif" alt="" />
		</div>
    <script src="../static/js/jquery-2.0.0.min.js" type="text/javascript" charset="utf-8"></script>  
    <script src="../static/js/ejs.js" type="text/javascript" charset="utf-8"></script>
    <script src="../static/js/swiper-3.4.2.min.js" type="text/javascript" charset="utf-8"></script>
		<script  type="text/template" charset="utf-8" id="template">			
			<div class="collect-main">
				<div class="collect-main-left">
					 <div class="bigGoods bigGoods<%=index%>" ><img src="<%=goodsInfo.all_img_url[0].img_url%>"/></div>
					 <div class="smallGoodsList swiper-container swiper-container-horizontal">
					 	<ul  class="swiper-wrapper">
					 		<%for(var i=0;i<goodsInfo.all_img_url.length;i++){%>
					 			<li class="smallImgList smallImgList<%=index%> swiper-slide"><img src="<%=goodsInfo.all_img_url[i].img_url%>"/></li>
					 		<% }%>
					 	</ul>
					 	<a href="" class="btn-left swiper-button-next"></a>
					 	<a href="" class="btn-right swiper-button-prev"></a>
					 </div>
				</div>
				<div class="collect-main-right">
					<div class="goodsName"><%=goodsInfo.title%></div>
					<div class="subGoodsName"><%=goodsInfo.sub_title%></div>
					<div class="goods-info">
						<div class="price">
							<ul>
								<li>最低价</li>
								<li><%=goodsInfo.taobao_price%></li>
							</ul>
							<ul>
								<li>最高价</li>
								<li><%=goodsInfo.price%></li>
							</ul>								
						</div>
					</div>
					<div class="goodsColor">
						<div class="goodsColor-right">
							<ul class="taob-type">
								<% for(var i=0;i<goodsInfo.detail_name_list.length;i++){%>
								<li class=""><%=goodsInfo.detail_name_list[i].spec_name%></li>
								<% } %>
								<li>价格</li>
								<li>库存</li>
								<% if(goodsInfo.price_info_list[0].img_url.length != 0){%>
									<li>图片</li>
								<% }%>	
							</ul>							
						</div>
					</div>
					<div class="goodsSize">
						<% if(goodsInfo.is_delete == 0){%>
						<div class="goodsSize-right">
							<ul class="taob-type-list">
								<% for(var i=0;i<goodsInfo.price_info_list.length;i++){%>
								<li>
									<ul>
										<%for(var j=0;j<goodsInfo.detail_name_list.length;j++){%>
										<li><%=goodsInfo.price_info_list[i].spec_value.split("|")[j]%></li>
										<%}%>
										<li><%=goodsInfo.price_info_list[i].detail_price%></li>
										<li><%=goodsInfo.price_info_list[i].rest_number%></li>
										<% if(goodsInfo.price_info_list[i].img_url.length != 0){%>
										<li class="goodsColorList" ><img style="width: .4rem;height: .4rem;" src="<%=goodsInfo.price_info_list[i].img_url%>"/></li>
										<% }%>
									</ul>
								</li> 
								<%}%>
							</ul>
							<div class="obj-expand">
									<span ></span>
								</div>
						</div>
						<% }else{ %>
							此商品已下架！
						<% } %>
					</div>
				</div>
			</div>
				<div class="goodsDetail">
					<div class="seller-message">
						<div class="seller-company"><%=goodsInfo.shop_name%></div>
						<% if(goodsInfo.schedule.length>0){%>
							<div class="seller-name">
								商品上架时间：<br /><span style="color: red;"><%=goodsInfo.schedule[0].begin_time%></span><br />
								商品下架时间：<br /><span style="color: red;"><%=goodsInfo.schedule[0].end_time%></span>
							</div>							
						<%}%>

						<!--<div class="seller-personal-url">
							卖家私人主页：<br /><a href="<%=goodsInfo.shop_name_url%>" target="_blank"><%=goodsInfo.shop_name_url%></a>
						</div>-->
					</div>
					<div class="goodsDetail-message">
						<div class="goodsDetail-message-title">详细信息</div>
						<div class="goodsDetail-messageList">
							<div class="obj-content">
						    <table>
						        <tbody>
						        	<tr>
						        		<td class="de-feature"><%if(goodsInfo.p_info[0]){%><%=goodsInfo.p_info[0].p_name%><%}else{%><% } %></td>
						        		<td class="de-value"><%if(goodsInfo.p_info[0]){%><%=goodsInfo.p_info[0].p_value%><%}else{%><% } %></td>
						        		<td class="de-feature"><%if(goodsInfo.p_info[1]){%><%=goodsInfo.p_info[1].p_name%><%}else{%><% } %></td>
						        		<td class="de-value"><%if(goodsInfo.p_info[1]){%><%=goodsInfo.p_info[1].p_value%><%}else{%><% } %></td>
						    				<td class="de-feature"><%if(goodsInfo.p_info[2]){%><%=goodsInfo.p_info[2].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[2]){%><%=goodsInfo.p_info[2].p_value%><%}else{%><% } %></td>
						    			</tr>
						    			<tr>
						    			 	<td class="de-feature"><%if(goodsInfo.p_info[3]){%><%=goodsInfo.p_info[3].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[3]){%><%=goodsInfo.p_info[3].p_value%><%}else{%><% } %></td>
						    				<td class="de-feature"><%if(goodsInfo.p_info[4]){%><%=goodsInfo.p_info[4].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[4]){%><%=goodsInfo.p_info[4].p_value%><%}else{%><% } %></td>
						    				<td class="de-feature"><%if(goodsInfo.p_info[5]){%><%=goodsInfo.p_info[5].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[5]){%><%=goodsInfo.p_info[5].p_value%><%}else{%><% } %></td>
						    			</tr> 	    			    			  
						    			<tr>
						    				<td class="de-feature"><%if(goodsInfo.p_info[6]){%><%=goodsInfo.p_info[6].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[6]){%><%=goodsInfo.p_info[6].p_value%><%}else{%><% } %></td>
						    				<td class="de-feature"><%if(goodsInfo.p_info[7]){%><%=goodsInfo.p_info[7].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[7]){%><%=goodsInfo.p_info[7].p_value%><%}else{%><% } %></td>
						    				<td class="de-feature"><%if(goodsInfo.p_info[8]){%><%=goodsInfo.p_info[8].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[8]){%><%=goodsInfo.p_info[8].p_value%><%}else{%><% } %></td>
						    			</tr>
						    			<tr>  	    			
						    				<td class="de-feature"><%if(goodsInfo.p_info[9]){%><%=goodsInfo.p_info[9].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[9]){%><%=goodsInfo.p_info[9].p_value%><%}else{%><% } %></td>
						    				<td class="de-feature"><%if(goodsInfo.p_info[10]){%><%=goodsInfo.p_info[10].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[10]){%><%=goodsInfo.p_info[10].p_value%><%}else{%><% } %></td>
						    				<td class="de-feature"><%if(goodsInfo.p_info[11]){%><%=goodsInfo.p_info[11].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[11]){%><%=goodsInfo.p_info[11].p_value%><%}else{%><% } %></td>
						    			</tr>
						    			<tr>  	    			
						    				<td class="de-feature"><%if(goodsInfo.p_info[12]){%><%=goodsInfo.p_info[12].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[12]){%><%=goodsInfo.p_info[12].p_value%><%}else{%><% } %></td>
						    				<td class="de-feature"><%if(goodsInfo.p_info[13]){%><%=goodsInfo.p_info[13].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[13]){%><%=goodsInfo.p_info[13].p_value%><%}else{%><% } %></td>
						    				<td class="de-feature"><%if(goodsInfo.p_info[14]){%><%=goodsInfo.p_info[14].p_name%><%}else{%><% } %></td>
						    				<td class="de-value"><%if(goodsInfo.p_info[14]){%><%=goodsInfo.p_info[14].p_value%><%}else{%><% } %></td>
						    			</tr>
						    		</tbody>
						    </table>
						    <div class="obj-expand1">
									<span ></span>
								</div>
							</div>
						</div>
					</div>
				</div>
				<%if(className =='.showGoods'){%>
				<!--<div class="again-loading">
					<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>	
				</div>					-->
				<%}else{%>
				<div class="goods-Details">
					<%-goodsInfo.div_desc%>
				</div>
				<%}%>
		</script>    
    <script type="text/javascript">
	/*REM*/
			~function(){
				var desW = 1920,
						winW = document.documentElement.clientWidth||document.body.clientWidth;				
						document.documentElement.style.fontSize = winW / desW * 100 + 'px';
			}();
	//抓取方式切换	
			(function(){
                alert('使用须知：\r\r唯品会官方地址: https://m.vip.com\r\r唯品会商品地址(开头形式): \r** 常规商品地址\r1. https://m.vip.com/product-xxxx-yyyy.html\r** 预售商品地址\r2. https://m.vip.com/preheating-product-xxxx-yyyy.html\r\r@@ 价格为该商品的最优惠价格(前提: 单件商品|当前售卖时间段)\r@@ (即单件商品 满减 或者 折扣 或者 优惠券后的 【最优惠的价格】)');

				$('#singleGrab').click(function(){
					$('.collect-content').show();
					$('.goodsLink').show();
					$('.batchGrab').hide();
					$('.anyGrab').hide();
					$(this).addClass('active').siblings('a').removeClass('active');
				});
				$('#batchGrab').click(function(){
					$('.goodsLink').hide();
					$('.collect-content').hide();
					$('.anyGrab').hide();
					$('.batchGrab').show();
					$(this).addClass('active').siblings('a').removeClass('active');
				})		
				$('#anyGrab').click(function(){
					$('.goodsLink').hide();
					$('.collect-content').hide();
					$('.anyGrab').show();
					$('.batchGrab').hide();
					$(this).addClass('active').siblings('a').removeClass('active');
				})						
			})()

	//批量存入数据库
			$(function(){
				var insertData = [];
				$('.singleSelectBtn').click(function(){
					 $(this).attr("checked", !$(this).attr("checked"));
				});
				$('#allSelect').click(function(){
					$('.singleSelectBtn').each(function(){
						this.checked = true
					})
				});
				$('#insertSql').click(function(){
					for(var i=0;i<$('.singleSelectBtn').length;i++){
						if($('.singleSelectBtn').eq(i).is(":checked")&&$('.addLinkList').eq(i).hasClass('active')){
							insertData.push($('.linkContent').eq(i).val())
						}
					}
					if(insertData.length =='0'){
						alert('未选择需要保存的信息')
					}else{
						$(".layer").show();
						$.ajax({
							type:"post",
							url:"/vip_to_save_data",
							async:true,
							data:{
								saveData:insertData
							},
							success:function(e){
								insertData = [];
								let data=JSON.parse(e);
								setTimeout(()=>{
									$(".layer img").css("display","none");
									$(".layer").append("<div class='layer-content'><div></div><button>确认</button></div>");
									$(".layer-content div").html(data.msg.replace(/\r/g,"<br/>"));
								 	$(".layer .layer-content button").on("click",()=>{
							    	$(".layer").hide();
							    })
								},500);
							},
							error:function(){
								insertData = [];
								setTimeout(()=>{
            		$(".layer img").css("display","none");
            		$(".layer").append("<div class='layer-content'><div>操作成功</div><button>确认</button></div>");
            		$(".layer .layer-content button").on("click",()=>{
								    	$(".layer").hide();
								    })
            		},15000);
							}
						});
					}
				})
			})
	//增加输入连接点位
			$(function(){
				var n =0;
				$('.add').click(function(){
	//判断搜索框的个数					
					var oUl = document.getElementById('addLink');
					var oLi = oUl.getElementsByTagName('li');
					if(n>=19){
						$('.maxLink').show();
						setTimeout(()=>{$('.maxLink').hide();},1000)
						return;
					}
					n++;
					$('.addLinkList').eq(n).addClass('active');
				})
			})
	//	bindHTML
		
			var GoodsInfo = (function(){
	
				function bindHTML(goodsInfo,index,className){
					
				
					var $goodsInfoTemplate = $('#template'),
							$goodsInfo = $('.className');
					var template = $goodsInfoTemplate.html();
					$(className).eq(index).html(ejs.render(template,{goodsInfo:goodsInfo,index:index,className:className}));
	//swiper
				var swiper = new Swiper('.swiper-container', {
		      	slidesPerView :'auto',
		        nextButton: '.swiper-button-next',
		        prevButton: '.swiper-button-prev',
		        offsetSlidesAfter:1
		    });			
	//carousel切换图片

				var bigImgName = '.bigGoods'+index,
						smallImgName = '.smallImgList'+index,
						goodsColorName = '.goodsColorList',
						bigImg = $(bigImgName),
						smallImg = $('.swiper-wrapper'),
						smallImgList = $(smallImgName),
						goodsColorList = $(goodsColorName),
						now = null;
						console.log(bigImg,smallImgList);
	//点击小图切换					
						for(var i=0;i<smallImgList.length;i++){
							smallImgList[i].addEventListener('click',function(e){
								console.log(index);
								bigImg.find('img')[0].src = e.target.src;
							})							
						}
	//点击颜色图切换
						
						for(var i=0;i<goodsColorList.length;i++){
							goodsColorList[i].addEventListener('click',function(e){
								console.log(e.target.src);
								if(e.target.src){
									bigImg.find('img')[0].src = e.target.src;	
								}else{
									return
								}							
							})							
						}				
	//点击下拉尺寸列表
						$(function(){
							$('.obj-expand').click(function(){
								$('.goodsSize-right').children('ul').css({height:'100%'});
								$(this).hide();
							})
						});		
						$(function(){
							$('.obj-expand1').click(function(){
								$('.obj-content').css({height:'100%'});
								$(this).hide();
							})
						});
						
				}	
				
				return {
					init:function(data,index,className){	
								bindHTML(data,index,className);							
					}
				}
		})()
//重置数据
		function reset(){
			$('#goodsLink').val('');
			$('#goodsLink').focus();
			$('.linkContent').val('');
		}	
		$('#reset').click(function(){reset()});
//批量抓取数据
		//清空输入框
		$('#resetAllLink').click(function(){
			reset();
			$('.showGoods').html('<img class="showGoodsLoading" src="../static/images/5-121204193Q9.gif"/>');
		});
		$('#batchGrabStart').click(function(){	
			var p = new Promise(function(resolve,reject){
				if($('.linkContent').eq(0).val()== ''){
					resolve('1')
				}else{
					$('.showGoodsLoading').eq(0).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(0).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(0).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(0).hide();
											GoodsInfo.init(data.data,0,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(0).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(0).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(0).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(0).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(0).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(0).text('')
										},3000)					
								}
							});	
							resolve('1')				
				}
			}).then((res)=>{
				console.log(res)
				if($('.linkContent').eq(res).val()== ''){
					return '2';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '2';				
				}
			}).then((res)=>{
				console.log(res)
				if($('.linkContent').eq(res).val()== ''){
					return '3';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '3';				
				}
			}).then((res)=>{
				if($('.linkContent').eq(res).val()== ''){
					return '4';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '4';				
				}
			}).then((res)=>{
				if($('.linkContent').eq(res).val()== ''){
					return '5';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '5';				
				}
			}).then((res)=>{
				if($('.linkContent').eq(res).val()== ''){
					return '6';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '6';				
				}
			}).then((res)=>{
				if($('.linkContent').eq(res).val()== ''){
					return '7';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '7';				
				}
			}).then((res)=>{
				if($('.linkContent').eq(res).val()== ''){
					return '8';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '8';				
				}
			}).then((res)=>{
				if($('.linkContent').eq(res).val()== ''){
					return '9';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '9';				
				}
			}).then((res)=>{
							if($('.linkContent').eq(res).val()== ''){
					return '10';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '10';				
				}
			}).then((res)=>{
							if($('.linkContent').eq(res).val()== ''){
					return '11';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '11';				
				}
			}).then((res)=>{
								if($('.linkContent').eq(res).val()== ''){
					return '12';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '12';				
				}
			}).then((res)=>{
							if($('.linkContent').eq(res).val()== ''){
					return '13';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '13';				
				}
			}).then((res)=>{
				if($('.linkContent').eq(res).val()== ''){
					return '14';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '14';				
				}
			}).then((res)=>{
							if($('.linkContent').eq(res).val()== ''){
					return '15';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '15';				
				}
			}).then((res)=>{
								if($('.linkContent').eq(res).val()== ''){
					return '16';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '16';				
				}
			}).then((res)=>{
								if($('.linkContent').eq(res).val()== ''){
					return '17';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '17';
				}
			}).then((res)=>{
								if($('.linkContent').eq(res).val()== ''){
					return '18';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '18';				
				}
			}).then((res)=>{
							if($('.linkContent').eq(res).val()== ''){
					return '19';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '19';				
				}
			}).then((res)=>{
				if($('.linkContent').eq(res).val()== ''){
					return '20';
				}else{
					$('.showGoodsLoading').eq(res).show();
					$.ajax({
								type:"post",
//								url:$('.linkContent').eq(res).val(),
								url:'/vip_data',
								async:true,
								data:{
									goodsLink:$('.linkContent').eq(res).val()
								},
								success:function(data){
								    data = JSON.parse(data);
									if(data && data.reason == 'success'){
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
											GoodsInfo.init(data.data,res,'.showGoods');
										}, 500)
									}else{
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)
									}		
								},
								error:function (){
										$('.wGoodsLink').eq(res).text('您输入的网址有误，请重新输入！');
										setTimeout(function(){
											$('.showGoodsLoading').eq(res).hide();
										},500);
										setTimeout(function(){
											$('.wGoodsLink').eq(res).text('')
										},3000)					
								}
							});	
							return '20';				
				}
			})
		})
//公共方法二
		function split(str){
			var arr=str.split(';');
				var n = [];
				for(var i=0;i<arr.length;i++){
					if(arr[i].length<30){
					n.push(arr[i])
					}
				}
				for(var j=0;j<n.length;j++){
					for(var i=0;i<arr.length;i++){
						if(arr[i]==n[j]){
							arr.splice(i,1)
						}
					}
				}
				return arr;
		}		
//一顿乱搜
		$('#anyGrabStart').click(function(){
			var anyLinks = split($('.anyGrabContent').val());
			var num =0,
					per = 0;
			$('.grabLoading').show();
			for(var i=0;i<anyLinks.length;i++){		
					console.log(anyLinks);
					$.ajax({
						type:"post",
//						url:anyLinks[i],
                        url:"/vip_data",
						async:true,
						data:{
							goodsLink:anyLinks[i]
						},
						success:function(data){
							num+=1;
							console.log(num,anyLinks.length,anyLinks);
							per = num/anyLinks.length;
							$('.meter').html(per*100);
							$('.grabLoading-list').animate({
								'width':100-per*100+'%'
							},300);
							if(per>=1){
								$('.grabLoading-box').addClass('done');
								$('.grabLoading').hide();
							}
							$('.nLink').text('总共获取到'+num+'条信息');
							setTimeout(function(){
								$('.nLink').text('');
							},1000)
						},
						error:function(){
							console.log('ddd')
						}
					});
			}
//			var timer = setTimeout(function(){
//						if(per>=1){
//							clearTimeout(timer)
//						}else{
//							$('.grabLoading').hide();
//						}
//					},5000);
			$('#insertSqlAny').click(function(){
				$.ajax({
						type:"post",
						url:"/vip_to_save_data",
						async:true,
						data:{
							saveData:anyLinks
						},
						success:function(){
							$('.nLink').text('总共'+num+'条信息存入数据库');
							setTimeout(function(){
								$('.nLink').text('');
							},3000)
						},
						error:function(){
						}
				});
			})
		});
//单个存入数据库
        var insertData = new Array();
        $('#insertSqlSingle').click(function(){
            if(insertData[0]==''){
                return;
            }else{
            	$(".layer").show();
                $.ajax({
                    type:"post",
                    url:"/vip_to_save_data",
                    async:true,
                    data:{
                        saveData:insertData
                    },
                    success:function(e){
											let data=JSON.parse(e);
											setTimeout(()=>{
												$(".layer img").css("display","none");
												$(".layer").append("<div class='layer-content'><div></div><button>确认</button></div>");
												$(".layer-content div").html(data.msg.replace(/\r/g,"<br/>"));
											 	$(".layer .layer-content button").on("click",()=>{
										    	$(".layer").hide();
										    })
											},500);
                    },
                    error:function(){
                    	setTimeout(()=>{
                    		$(".layer img").css("display","none");
                    		$(".layer").append("<div class='layer-content'><div>操作成功</div><button>确认</button></div>");
                    		$(".layer .layer-content button").on("click",()=>{
										    	$(".layer").hide();
										    })
                    	},15000);
                    }
                });
            }
            insertData = [];
        });

//单个抓取数据
		$('#grab').click(function(){
			if($('#goodsLink').val()==''){
				return
			}
			$('.mask').show();
			$.ajax({
//				type:"get",
				type:"post",
//				url:$('#goodsLink').val(),
                url:'/vip_data',
				async:true,
				data:{
					goodsLink:$('#goodsLink').val()
				},
				success:function(data){
                  	data = JSON.parse(data);
					if(data && data.reason == 'success'){
					    insertData[0] = $('#goodsLink').val();
						console.log('ok',data.data);
						data.data.div_desc = data.data.div_desc.replace("\\","");
						setTimeout(function(){
							$('.mask').hide();
							GoodsInfo.init(data.data,0,'.collect-content');
						}, 500)
					}else{
						reset();
						$('.wLink').text('您输入的网址有误，请重新输入！');
						setTimeout(function(){
							$('.mask').hide();
						},500);
						setTimeout(function(){
							$('.wLink').text('')
						},3000)
					}
				},
				error:function (){
						reset();
						$('.wLink').text('您输入的网址有误，请重新输入！');
						setTimeout(function(){
							$('.mask').hide();
						},500);
						setTimeout(function(){
							$('.wLink').text('')
						},3000)					
				}
			});
		})
        //弹窗提示
    </script>
  </body>
</html>
